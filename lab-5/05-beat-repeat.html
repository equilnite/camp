<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CS Maker Camp - Page 5: Beat Repeat</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../lab-5/extension/06-storing-songs.html" rel="next">
<link href="../lab-5/04-mystery-song-game.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script type="text/javascript" src="../llab/loader.js"></script>


<link rel="stylesheet" href="../css/bjc.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">CS Maker Camp</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://snap.berkeley.edu/snap/snap.html" rel="" target="">
 <span class="menu-text">Snap<em>!</em></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="../lab-1/index.html" rel="" target="">
 <span class="dropdown-text">Lab 1: Click Alonzo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab-2/index.html" rel="" target="">
 <span class="dropdown-text">Lab 2: Variables and Gossip</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab-3/index.html" rel="" target="">
 <span class="dropdown-text">Lab 3: Number Guessing Game</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab-4/index.html" rel="" target="">
 <span class="dropdown-text">Lab 4: Pong</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab-5/index.html" rel="" target="">
 <span class="dropdown-text">Lab 5: Song Player</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab-6/index.html" rel="" target="">
 <span class="dropdown-text">Lab 6: Squiral</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab-7/index.html" rel="" target="">
 <span class="dropdown-text">Lab 7: Polygon</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../project/index.html" rel="" target="">
 <span class="dropdown-text">eCard Project</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lab-5/index.html">Lab 5: Song Player</a></li><li class="breadcrumb-item"><a href="../lab-5/05-beat-repeat.html">Page 5: Beat Repeat</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../lab-5/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 5: Song Player</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/01-playing-notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 1: Playing Notes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/02-visualizing-loops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 2: Visualizing Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/03-programming-styles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 3: Programming Styles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/04-mystery-song-game.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 4: Mystery Song Game</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/05-beat-repeat.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Page 5: Beat Repeat</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Extension</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/extension/06-storing-songs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 6: Storing Songs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/extension/07-song-mapper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 7: Song <code>Map</code>per</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/extension/08-pitch-beat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 8: Songs with Pitches <em>and</em> Beats</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab-5/extension/09-map-pitch-beat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Page 9: <code>Map</code>ping over Pitches and Beats</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#using-for-each-to-traverse-a-list" id="toc-using-for-each-to-traverse-a-list" class="nav-link active" data-scroll-target="#using-for-each-to-traverse-a-list">Using <code>For Each</code> to Traverse a List</a></li>
  <li><a href="#using-for-each-to-play-any-list-of-pitches" id="toc-using-for-each-to-play-any-list-of-pitches" class="nav-link" data-scroll-target="#using-for-each-to-play-any-list-of-pitches">Using <code>For Each</code> to Play <em>Any</em> List of Pitches</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Page 5: Beat Repeat</h1>
<p class="subtitle lead">Lab 5, Page 5</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<script type="text/javascript" src="../utilities/gifffer.min.js"></script>
<script type="text/javascript">window.onload = function() {Gifffer();};</script>
<p><link rel="stylesheet" type="text/css" href="../css/bjc-gifffer.css"></p>
<div class="learn">
<p>In this activity, you will make it easier to play a song by putting the notes in a list.</p>
</div>
<section id="using-for-each-to-traverse-a-list" class="level3">
<h3 class="anchored" data-anchor-id="using-for-each-to-traverse-a-list">Using <code>For Each</code> to Traverse a List</h3>
<div class="todo">
<p>
The paragraph below is well-intentioned, but it doesn’t belong here. Maybe after your sample song that uses REPEAT?
</p>
<p>
Where do you mean, exactly? –MF, 3/6/22
</p>
<div class="todo">
<p>
Using the <code>repeat</code> block strategically can make your code shorter and easier to read. It’s generally a good idea to write shorter code that is easier to read because when something isn’t working right, it’s easier to find and fix the problem, or when you want to change it later or have someone else read it, that’s easier too.
</p>
</div>
</div>
<p>
<img src="../img/blocks/for-each.png" title="for each (item) in 'list input slot' {
}" alt="for each (item) in 'list input slot' {
}" class="imageRight nopadtb"> One way to simplify writing a song is to use a <em>list</em> to store the pitches and then play each pitch in the list. You can use <code>for each</code> to run a command (or group of commands) for each item in a list. For example: <br> <a class="js-run snap-project" href="../prog/lab-5/sample-song-with-for-each.xml" title="Example of For Each - Snap! project" target="_blank"><img src="../img/U2/lab01/example-for-each.png" title="for each (pitch) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
play ♪ pitch: (pitch) beats: (0.5)
}" alt="for each (pitch) in (list (60) (60) (67) (67) (69) (69) (67) (0) (65) (65) (64) (64) (62) (62) (60) (0)) {
play ♪ pitch: (pitch) beats: (0.5)
}" class="indent"></a>
</p>
<div class="endnote">
<p>Playing the pitch 0 works like a rest (a pause in the music).</p>
</div>
<div class="vocabFullWidth">
<p>
A <strong>list</strong> is an ordered sequence of items. You’ve been using lists throughout this course: to store words for a story, to manipulate the letters of a secret message, and even to store lists such as each individual’s responses to the question in a survey.
</p>
<div class="endnote">
<p><a href="#ordered" data-bs-toggle="collapse" title="What does 'ordered' mean?">What does “ordered” mean?</a></p>
<div id="ordered" class="collapse">
<p>
It doesn’t mean that the items have to appear in alphabetical or numeric order. It just means that these are different lists:<br> <img src="../img/1-introduction/list-a-b.png" title="(list a b" alt="(list a b)" class="indent"> <img src="../img/1-introduction/list-b-a.png" title="(list b a)" alt="(list b a)" class="indent">
</p>
</div>
</div>
</div>
<div class="forYouToDo">
<ol>
<li>
<p>Log in to Snap!, and do one of the following:</p>
<div class="todo">
<p>
This might be a risky move. I was hoping to give the kids a chance to start from scratch if they had a cluttered project, but it does mean that from this page on, some students will have only one project for the lab while others will have two. It also means that I can’t refer to their project by name on the subsequent pages, so if they name it awkwardly and forget the name, they won’t be able to find it. Thoughts? –MF, 2/23/22
</p>
<p>
The further along I get in writing this lab, the more I regret this choice because I have no way of telling them what project I want them to open other than “your last one”. I’m now thinking they should start from a new starter XML here without any option. Thoughts? –MF, 2/27/22
</p>
<p>
I agree, pick one. I first thought they should start with the example project, but then they don’t get the practice in exercise 2. Maybe have them start with the sample (which should be called the <em>starter</em> instead of sample) but still make them make their own FOR EACH block? -bh 3/3/22
</p>
<p>
How about they start with starter project and you can remind them they can open up song player in another tab to remember the pitches that they used? -pf 3/3/22
</p>
<p>
To resolve next time around. –MF, 3/6/22
</p>
</div>
<ul>
<li>
Open the <a class="js-run snap-project" href="../prog/lab-5/sample-song-with-for-each.xml" title="Example of For Each - Snap! project" target="_blank"><code>for each</code> example project</a> and save it to your Snap<em>!</em> account.
</li>
<li>
Open your “Song Player” project if isn’t open already.
</li>
</ul>
</li>
<li>
<p>Create a simple song using <code>for each</code>. If you opened the example project, edit the pitches in the list to create your song. If you opened your own “Song Player” project…</p>
<ol>
<li>
Drag a <code>for each</code> block into the scripting area, and drag a <code>play ♪</code> block inside it.<br> <img src="../img/U2/lab01/for-each-play-note.png" title="for each (item) in 'list input slot {
play ♪ pitch: () beats: ()
}" alt="for each (item) in 'list input slot {
play ♪ pitch: () beats: ()
}" class="indent">
</li>
<li>
<p>Rename the <var>item</var> variable to <var>pitch</var> by clicking it, typing the new name (“pitch”), and clicking “OK.”<br></p>
<div class="comment">
<p>
The orange color of item is inaccessible per https://webaim.org/resources/contrastchecker/ It would need to be a significantly darker orange to meet a11y contrast standards. -pf 3/3/22
</p>
<p>
Thanks. Let’s address this at a meeting. –MF, 3/6/22
</p>
</div>
<p><img title="animation showing the user clicking the 'item' variable in a 'for each block', typing 'pitch', and then pressing 'OK.' The 'for each' variable is then named 'pitch' and not 'item'" alt="animation showing the user clicking the 'item' variable in a 'for each block', typing 'pitch', and then pressing 'OK.' The 'for each' variable is then named 'pitch' and not 'item'" class="indent" data-gifffer="/img/U2/lab01/for-each-pitch-variable.gif"></p>
</li>
<li>
Drag the <var>pitch</var> variable into the “pitch” input (the first input) of the <code>play ♪</code> block. Dragging will make a copy of <var>pitch</var>, so you should see <var>pitch</var> in both places.<br> <img title="animation showing the user clicking the 'pitch' variable and dragging it into the first input slot of the 'play ♪' block" alt="animation showing the user clicking the 'pitch' variable and dragging it into the first input slot of the 'play ♪' block" class="indent" data-gifffer="/img/U2/lab01/for-each-pitch-variable-move.gif">
</li>
<li>
Type a number for the “beats” input (the second input) of the <code>play ♪</code> block. (For example, if you want half notes, type the number “0.5”.)
</li>
<li>
Drag a <code>list</code> block into the list input slot of the <code>for each</code> block, add some notes, and click the script to test out your song as you build it.<br> <img title="animation showing the LIST block being dragged into the list input slot of the FOR EACH block. The right triangle button in the LIST block is clicked twice, and each time three additional inputs to the LIST block appear. The numbers 60, 60, 67, 67, 69, 69, 67 are typed into the inputs to the LIST block, and then the FOR EACH block is clicked." alt="animation showing the LIST block being dragged into the list input slot of the FOR EACH block. The right triangle button in the LIST block is clicked twice, and each time three additional inputs to the LIST block appear. The numbers 60, 60, 67, 67, 69, 69, 67 are typed into the inputs to the LIST block, and then the FOR EACH block is clicked." class="indent" data-gifffer="/img/U2/lab01/for-each-list.gif">
</li>
<div class="endnote">
<p>Tips for working with the <code>list</code> block:</p>
<ul>
<li>
If you hold down the “shift” key when you press the ◂ or ▸ buttons, it will remove or add <em>three</em> spaces at the end of the list instead of just one.
</li>
<li>
You can press the “tab” key to move the typing cursor to the next input slot without using your mouse.
</li>
<li>
If you want to add or remove a pitch from your list, you don’t have to move the other numbers around. To add a new slot, right-click the slot where you want it to appear, and select “insert a slot.” To remove a slot, right-click it, and select “delete slot.”
</li>
</ul>
</div>
</ol>
</li>
<li>
Make sure your script plays your song correctly before moving on.
</li>
</ol>
</div>
<div class="todo">
<p>Maybe add a page break here in the future? –MF, 2/28/22</p>
</div>
</section>
<section id="using-for-each-to-play-any-list-of-pitches" class="level2">
<h2 class="anchored" data-anchor-id="using-for-each-to-play-any-list-of-pitches">Using <code>For Each</code> to Play <em>Any</em> List of Pitches</h2>
<p>
You can create a <code>play song</code> block that will apply this script to any input song.<br> <img src="../img/U2/lab01/play-song-with-inputs.png" title="play song (list (60) (60) (67) (67) (69) (69) (67))" alt="play song (list (60) (60) (67) (67) (69) (69) (67))" class="indent">
</p>
<div class="forYouToDo">
<div class="todo">
<p>
How much experience have they had before this of generalizing a script by turning it into a procedure with an input? They should have done that several times by now, no? So that experience should be called out here. “Remember how you generalized your blah blah by making it a procedure with an input? You can do the same thing with this script that plays the notes in a list.” –bh 3/3/22
</p>
<p>
To revisit… –MF, 3/6/22
</p>
</div>
<ol start="4">
<li>
<p>Create a new command block called <code>play song</code> that takes a list of notes as input and plays each note in the list using <code>for each</code>.</p>
<div class="todo">
<p>If we ever remake this animation, the <code>play song</code> block should be pink! –MF, 2/21/22</p>
</div>
<div class="endnote">
<p>
<a href="#hint-new-block" data-bs-toggle="collapse" title="Click for a hint about creating a new command block that takes a list of notes as input and plays each note in the list using FOR EACH.">Click for a hint.</a>
</p>
<div id="hint-new-block" class="collapse">
<p>
</p><ol>
<li>
Create a new block called <code>play song</code> that takes one input called <var>song</var>, which will be a list of pitches. (To add an input, you have the hover over the tiny space to the right of the block name to get the plus sign (+) to show up and then click it.)
</li>
<li>
Duplicate your <code>for each pitch, play ♪</code> code by right-clicking the <code>for each</code> block and selecting “duplicate,” and then attach the copied code to the <code>play song</code> hat block in the block editor.
</li>
<li>
Remove the list block containing your previous song, drag the <var>song</var> variable into the <code>for each</code> block where <var>song</var> had been, and click, “OK.”
</li>
</ol>
<p></p>
<p>
<a href="#hint-new-block-animation" data-bs-toggle="collapse" title="Click for a video showing how to create the new command block.">Click for a video.</a>
</p>
<div id="hint-new-block-animation" class="collapse">
<p><img title="animation showing the steps for creating a new command block that takes a list of notes as input and plays each note in the list: 1) Create a new block called PLAY SONG that takes one input called SONG, which will be a list of pitches; 2) Duplicate your FOR EACH PITCH, PLAY ♪ code by right-clicking the FOR EACH block and selecting 'duplicate,' and then attach the copied code to the PLAY SONG hat block in the block editor; 3) Remove the list block containing your previous song, drag the SONG variable into the FOR EACH block where SONG had been, and click, 'OK.'" alt="animation showing the steps for creating a new command block that takes a list of notes as input and plays each note in the list: 1) Create a new block called PLAY SONG that takes one input called SONG, which will be a list of pitches; 2) Duplicate your FOR EACH PITCH, PLAY ♪ code by right-clicking the FOR EACH block and selecting 'duplicate,' and then attach the copied code to the PLAY SONG hat block in the block editor; 3) Remove the list block containing your previous song, drag the SONG variable into the FOR EACH block where SONG had been, and click, 'OK.'" class="indent" data-gifffer="/img/U2/lab01/play-song-block-animation.gif"></p>
</div>
</div>
</div>
</li>
<div class="todo">
<p>
Sorry, this is another Snap bug report, but when I ran play-song, the song suddenly sounded horrifying. I even added an explicit set-instrument to 1 but it still sounds really sharp/grating. It did that for the first 3 times I played it. After writing this comment, it seems to be okay. Not sure what triggers it. I still am getting the issue where switching tabs while playing a song prolongs the current note, that seems very repeatable. -pf 3/3/22
</p>
<p>
This needs to go on GH not in the curriculum. https://github.com/jmoenig/Snap/issues :) –MF, 3/6/22
</p>
</div>
<li>
Try out your <code>play song</code> block with at least two different lists of pitches, and fix any issues with the block.
</li>
<li>
<p>Create help text for your <code>play song</code> block by attaching a comment to the hat block. The help text should describe what the block takes as input and what effect the block produces.</p>
<div class="endnote">
<p>An example: <img src="../img/U1/lab06/uppercase-hat-block-comment.png" title="uppercase block code with a comment attached to the hat block. The comment contains the text 'This block takes a string of text as input and reports the same text but with all of the lowercase letters changed to uppercase.'" alt="uppercase block code with a comment attached to the hat block. The comment contains the text 'This block takes a string of text as input and reports the same text but with all of the lowercase letters changed to uppercase.'" class="indent"></p>
</div>
</li>
<li>
<img src="../img/icons/save-now.png" title="Now Is a Good Time to Save" alt="Now Is a Good Time to Save" class="inline">
</li>
</ol>
</div>
<div class="endnote">
<p>
<a href="#hint-target" data-bs-toggle="collapse" title="Does my play song block have to play every note for the same length of time?">Does my <code>play song</code> block have to play every note for the same length of time?</a>
</p>
<div id="hint-target" class="collapse">
<p>
No.&nbsp;On a later page, you can learn a way to store and play songs with both pitch and beat information about each note.
</p>
</div>
</div>
<div class="learn">
<p>In this activity, you used <code>for each</code> to play each pitch in a list and created a <code>play song</code> block that will work with any list of pitches.</p>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>The next pages are extra content with concepts that you do not have to learn, but if you’re done with these first 5 pages (pages 1 to 5), we encourage you to work on the next 4 pages of this lab. Ask any questions that you may have!</p>
<p>Otherwise, the expectation is that you continue off of pages 1-5 and work making your current code more creative. Explore making other tunes/songs, putting a spin on what you already have, etc.</p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("^(?:http:|https:)\/\/camp\.echa\.ng\/custom");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../lab-5/04-mystery-song-game.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Page 4: Mystery Song Game</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../lab-5/extension/06-storing-songs.html" class="pagination-link">
        <span class="nav-page-text">Page 6: Storing Songs</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">The curriculum and text on this website is adapted from <a href="https://bjc.edc.org/bjc-r/">The Beauty and Joy of Computing</a> by University of California, Berkeley and Education Development Center, Inc.&nbsp;which is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>